(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{20:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},57:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),o=(n(20),n(3)),s=n(4),u=n(6),l=n(5),h=(n(21),n(22),n(1)),p=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={inputValue:""},t.handleInputChange=function(e){t.setState({inputValue:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.inputValue),t.setState({inputValue:""}),e.target.reset()},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("header",{className:"Searchbar",children:Object(h.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",required:!0,onChange:this.handleInputChange,id:this.numberInputId})]})})})}}]),n}(r.a.Component),d=p,m=n(7);n(24),n(25);function b(t,e){return fetch("https://pixabay.com/api/?key=22111577-4bd8860a42557448db0edd034&q=".concat(e,"&image_type=photo&page=").concat(t,"&per_page=12")).then((function(t){return t.json()}))}n(26);function f(t){var e=t.picture,n=t.onClickOpenModal;return Object(h.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n(e)},children:Object(h.jsx)("img",{src:e.webformatURL,alt:"",className:"ImageGalleryItem-image"})},e.id)}n(27);function j(t){var e=t.onClickLoadMore;return Object(h.jsx)("button",{type:"button",className:"Loadmore-button",onClick:e,children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Load more"})})}var g=n(15),O=n.n(g),S=n(11),v=n.n(S);v.a.setAppElement("#root");var y={content:{overflow:"hidden"}},x=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={pictures:[],currentPage:"",loading:!1,modal:!1,picture:null},t.onClickLoadMore=function(e){t.setState({currentPage:t.state.currentPage+1})},t.onClickOpenModal=function(e){console.log(e),t.setState({modal:!0,picture:e})},t}return Object(s.a)(n,[{key:"winScroll",value:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"componentDidUpdate",value:function(t,e){var n=this,a=this.props.serchRequest!==t.serchRequest,r=this.state.currentPage!==e.currentPage&&1!==this.state.currentPage;a&&(this.setState({pictures:[],currentPage:1,loading:!0}),b(1,this.props.serchRequest).then((function(t){n.setState({pictures:Object(m.a)(t.hits.map((function(t){return{id:t.id,webformatURL:t.webformatURL,largeImageURL:t.largeImageURL}})))})})).finally((function(){return n.setState({loading:!1})}))),r&&(this.setState({loading:!0}),b(this.state.currentPage,this.props.serchRequest).then((function(t){n.setState({pictures:[].concat(Object(m.a)(n.state.pictures),Object(m.a)(t.hits.map((function(t){return{id:t.id,webformatURL:t.webformatURL,largeImageURL:t.largeImageURL}}))))}),n.winScroll()})).finally((function(){return n.setState({loading:!1})})))}},{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{children:[Object(h.jsx)("ul",{className:"ImageGallery",children:this.state.pictures.map((function(e){return Object(h.jsx)(f,{picture:e,onClickOpenModal:t.onClickOpenModal})}))}),this.state.pictures.length>=12&&Object(h.jsx)(j,{onClickLoadMore:this.onClickLoadMore}),this.state.loading&&Object(h.jsx)(O.a,{className:"imgLoader",type:"Grid",color:"#00BFFF",height:80,width:80}),this.state.picture&&Object(h.jsx)(v.a,{preventScroll:!0,isOpen:this.state.modal,onRequestClose:function(){return t.setState({modal:!1,picture:null})},style:y,children:Object(h.jsx)("img",{src:this.state.picture.largeImageURL,alt:"Error",className:"imgModal"})})]})}}]),n}(r.a.Component),C=x,L=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={picture:""},t.formSubmitHandler=function(e){""!==t.state.picture.trim?t.setState({picture:e.toLowerCase()}):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f")},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(d,{onSubmit:this.formSubmitHandler}),Object(h.jsx)(C,{serchRequest:this.state.picture})]})}}]),n}(r.a.Component),w=L,k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root")),k()}},[[57,1,2]]]);
//# sourceMappingURL=main.dd025227.chunk.js.map